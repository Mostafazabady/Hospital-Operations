<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
        href="https://fonts.googleapis.com/css2?family=Alegreya+Sans:ital,wght@0,100;0,300;0,400;0,500;0,700;0,800;0,900;1,100;1,300;1,400;1,500;1,700;1,800&family=Alegreya:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&family=Amatic+SC:wght@400;700&family=Cairo:wght@500&family=Cinzel:wght@400;500;600;700;800&family=Inter:wght@100;200;300;400;500;600;700;800;900&family=La+Belle+Aurore&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Noto+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Work+Sans:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
        integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="./bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js"></script>
    <title>جدول عمليات قوائم الانتظار</title>
</head>
<body>
    











 
    
    
   
    <h2>جدول العمليات الثابتة اسبوعيا</h2>
    
    <table>
      <thead>
        <tr>
          <th>اليوم</th>
          <th>القسم</th>
          <th>الطبيب</th>
          <th>التخدير</th>
          <th>التمريض</th>
          <th>التوقيت</th>
        </tr>
      </thead>
      <tbody>
        <!-- يوم الخميس: 3 أقسام -->
        <tr>
          <td rowspan="3">الخميس</td>
          <td>رمد</td>
          <td>د/ أحمد علي</td>
          <td>د/ إبراهيم ولاش</td>
          <td>٧ ممرضين (٢ تعقيم، ٢ تسجيل، ٢ مناولة، ١ تخدير)</td>
          <td>9:00 صباحًا</td>
        </tr>
        <tr>
          <td>قسطرة القلب</td>
          <td>د/ حماده غانم</td>
           <!-- <td>
            <div class="half">
                <div class="top">د/ مصطفى مهني</div>
                <div>د/ إبراهيم ولاش</div>
            </div>
           </td> -->
           <td>لا يوجد</td>
          <td>٣ ممرضين (١ تخدير، ١ جراحة، ١ مناولة)</td>
          <td>9:00 صباحًا</td>
        </tr>
        <tr>
            <td>مخ وأعصاب</td>
            <td>د/ سعيد الإمام</td>
            <td>
                <div class="half">
                    <div class="top">د/ مصطفى مهني</div>
                    <div>د/ إبراهيم ولاش</div>
                </div>
               </td>
          <td>٣ ممرضين (١ تخدير، ١ جراحة، ١ مناولة)</td>
          <td>3:00 عصرا</td>
        </tr>
    
        <!-- يوم الجمعة: 3 أقسام -->
        <tr>
          <td rowspan="2">الجمعة</td>
          <td>عظام</td>
          <td>د/ بسام </td>
          <td rowspan="2">د/ محمد طارق</tdق>
            <td>٣ ممرضين (١ تخدير، ١ جراحة، ١ مناولة)</td>
            <td>9:00 صباحًا</td>
        </tr>
        <tr>
          <td>قلب مفتوح</td>
          <td>د/ أحمد سلامة</td>
          <td>٣ ممرضين (١ تخدير، ١ جراحة، ١ مناولة)</td>
          <td>10:00 صباحًا</td>
        </tr>
    
        <!-- السبت -->
        <tr>
          <td>السبت</td>
          <td>مخ وأعصاب</td>
          <td>د/ محمد عبدالباسط</td>
          <td>دعاء حافظ </td>
          <td>٣ ممرضين (١ تخدير، ١ جراحة، ١ مناولة)</td>
          <td>1:00 ظهرا</td>
        </tr>
        <!-- <tr>
          <td>أورام</td>
          <td>الدكتور أحمد صبري</td>
          <td>
            <select>
              <option>غير محدد</option>
              <option>إبراهيم ولاش</option>
              <option>مصطفى مهني</option>
            </select>
          </td>
          <td>٣ ممرضين</td>
          <td>٣ عصراً</td>
        </tr> -->
    
        <!-- الأحد -->
        <tr>
          <td>الأحد</td>
          <td>أنف وأذن</td>
          <td>د/ سيد عبدالحميد</td>
          <!-- <td>دعاء حافظ، مصطفى مهني</td> -->
          <td>
            <div class="half">
                <div class="top">د/  دعاء حافظ </div>
                <div>د/  مصطفي مهني</div>
            </div>
           </td>
          <td>٢ ممرضين</td>
          <td>9:00 صباحًا</td>
        </tr>
    
        <!-- الإثنين -->
        <tr>
          <td rowspan="2">الإثنين</td>
          <td>مخ وأعصاب</td>
          <td>د/ سعيد الإمام</td>
          <td>
            <div class="half">
                <div class="top">د/ مصطفى مهني</div>
                <div>د/ إبراهيم ولاش</div>
            </div>
           </td>         
           <td>٣ ممرضين (١ تخدير، ١ جراحة، ١ مناولة)</td>
           <td>9:00 صباحًا</td>
        </tr>
        <tr>
          <td>قسطرة القلب</td>
          <td>د/ حماده غانم</td>
          <td>لا يوجد</td>
          <!-- <td>د/ مصطفى مهني، إبراهيم ولاش</td> -->
          <td>٣ ممرضين (١ تخدير، ١ جراحة، ١ مناولة)</td>
          <td>9:00 صباحًا</td>
        </tr>
    
        <!-- الثلاثاء -->
        <tr>
          <td>الثلاثاء</td>
          <td>أنف وأذن</td>
          <td>د/ سيد عبدالحميد</td>
          <td>
            <div class="half">
                <div class="top">د/  دعاء حافظ </div>
                <div>د/  مصطفي مهني</div>
            </div>
           </td>          
           <td>٢ ممرضين</td>
          <td>9:00 صباحًا</td>
        </tr>
      </tbody>
    </table>
    


      <!-- <h2>جدول ديناميكي لعمليات الأورام والعظام</h2>
    
      <table>
        <thead>
          <tr>
            <th>القسم</th>
            <th>اسم الدكتور</th>
            <th>اليوم</th>
            <th>طبيب التخدير</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>الأورام</td>
           <td>
                <div class="half">
                    <div class="top">د/  أحمد صبري </div>
                    <div>د/  كريم شادي</div>
                </div>
               </td>    
            <td>
              <select id="or-day">
                <option value="">-- اختر اليوم --</option>
                <option value="السبت">السبت</option>
                <option value="الأحد">الأحد</option>
                <option value="الاثنين">الاثنين</option>
                <option value="الثلاثاء">الثلاثاء</option>
                <option value="الأربعاء">الأربعاء</option>
                <option value="الخميس">الخميس</option>
                <option value="الجمعة">الجمعة</option>
              </select>
            </td>
            <td>
              <input type="text" id="or-anesthesia" placeholder="اكتب اسم دكتور التخدير">
            </td>
          </tr>
          <tr>
            <td>العظام</td>
            <td>د/ أحمد عبيد</td>
            <td>
              <select id="bones-day">
                <option value="">-- اختر اليوم --</option>
                <option value="السبت">السبت</option>
                <option value="الأحد">الأحد</option>
                <option value="الاثنين">الاثنين</option>
                <option value="الثلاثاء">الثلاثاء</option>
                <option value="الأربعاء">الأربعاء</option>
                <option value="الخميس">الخميس</option>
                <option value="الجمعة">الجمعة</option>
              </select>
            </td>
            <td>
              <input type="text" id="bones-anesthesia" placeholder="اكتب اسم دكتور التخدير">
            </td>
          </tr>
        </tbody>
      </table> -->
    

    

















      
        <!-- <h2>جدول العمليات المتغيرة الأورام والعظام</h2>
      
        <table>
          <thead>
            <tr>
                <th>اليوم</th>
              <th>القسم</th>
              <th>الطبيب</th>
              <th>التخدير</th>
              <th>التمريض</th>
              <th> التوقيت</th>
            </tr>
          </thead>
          <tbody id="table-body">
          </tbody>
        </table>
        <div id="dataView">تحميل البيانات...</div> -->






        <h2>جدول العمليات المتغيرة الأورام والعظام</h2>

<table>
  <thead>
    <tr>
      <th>اليوم</th>
      <th>القسم</th>
      <th>الطبيب</th>
      <th>التخدير</th>
      <th>التمريض</th>
      <th>التوقيت</th>
    </tr>
  </thead>
  <tbody id="table-body">
    <!-- هتتحط الصفوف من JavaScript -->
  </tbody>
</table>

<div id="dataView">تحميل البيانات...</div>









      <!-- <div class="center">   <button onclick="saveChanges()">حفظ التغييرات</button></div> -->

 


      
      
    

















    <script>
// function saveChanges() {
//     const orDay = document.getElementById('or-day').value;
//     const bonesDay = document.getElementById('bones-day').value;
//     const orAnesthesia = document.getElementById('or-anesthesia').value;
//     const bonesAnesthesia = document.getElementById('bones-anesthesia').value;

//     localStorage.setItem('or_day', orDay);
//     localStorage.setItem('bones_day', bonesDay);
//     localStorage.setItem('or_anesthesia', orAnesthesia);
//     localStorage.setItem('bones_anesthesia', bonesAnesthesia);

//     alert("تم حفظ التغييرات بنجاح!");
//   }

//   function loadData() {
//     const orDay = localStorage.getItem('or_day');
//     const bonesDay = localStorage.getItem('bones_day');
//     const orAnesthesia = localStorage.getItem('or_anesthesia');
//     const bonesAnesthesia = localStorage.getItem('bones_anesthesia');

//     if (orDay) document.getElementById('or-day').value = orDay;
//     if (bonesDay) document.getElementById('bones-day').value = bonesDay;
//     if (orAnesthesia) document.getElementById('or-anesthesia').value = orAnesthesia;
//     if (bonesAnesthesia) document.getElementById('bones-anesthesia').value = bonesAnesthesia;
//   }

//   window.onload = loadData;











//    // Firebase Configuration
//    const firebaseConfig = {
//   apiKey: "AIzaSyDbwLf-RTecCnxflnDax2UmIS1LbamrwGE",
//   authDomain: "hospital-56bd2.firebaseapp.com",
//   databaseURL: "https://hospital-56bd2-default-rtdb.firebaseio.com",
//   projectId: "hospital-56bd2",
//   storageBucket: "hospital-56bd2.firebasestorage.app",
//   messagingSenderId: "629610904536",
//   appId: "1:629610904536:web:18a0806187fb70fee0d0ad",
//   measurementId: "G-6XMQLDMPQ9"
// };

// //   // Initialize Firebase
// //   firebase.initializeApp(firebaseConfig);

// //   // Save Data Function
// //   function saveData() {
// //     const data = {
// //       oram: {
// //         doctor: document.getElementById('doctor-oram').value,
// //         day: document.getElementById('day-oram').value,
// //         anesthesia: document.getElementById('anesthesia-oram').value,
// //       },
// //       azam: {
// //         doctor: document.getElementById('doctor-3zam').value,
// //         day: document.getElementById('day-3zam').value,
// //         anesthesia: document.getElementById('anesthesia-3zam').value,
// //       }
// //     };

// //     firebase.database().ref('dynamicSchedule').set(data)
// //       .then(() => alert('تم الحفظ بنجاح'))
// //       .catch(err => alert('خطأ: ' + err));
// //   }

// //   // Load Data Live
// //   firebase.database().ref('dynamicSchedule').on('value', (snapshot) => {
// //     const data = snapshot.val();
// //     if (data) {
// //       document.getElementById('doctor-oram').value = data.oram?.doctor || '';
// //       document.getElementById('day-oram').value = data.oram?.day || '';
// //       document.getElementById('anesthesia-oram').value = data.oram?.anesthesia || '';

// //       document.getElementById('doctor-3zam').value = data.azam?.doctor || '';
// //       document.getElementById('day-3zam').value = data.azam?.day || '';
// //       document.getElementById('anesthesia-3zam').value = data.azam?.anesthesia || '';
// //     }
// //   });










//  // بيانات الربط مع Firebase
//                 // ربط المشروع
//           firebase.initializeApp(firebaseConfig);
//           const db = firebase.database();
      
//           // تحميل البيانات من Firebase
//           const tableBody = document.getElementById("table-body");
      
//           function loadTable() {
//             db.ref("dynamicTable").on("value", (snapshot) => {
//               const data = snapshot.val();
//               tableBody.innerHTML = ""; // مسح القديم
      
//               for (const section in data) {
//                 const row = document.createElement("tr");
      
//                 row.innerHTML = `
//                   <td>${section}</td>
//                   <td>${data[section].doctor}</td>
//                   <td>${data[section].day || '—'}</td>
//                   <td>${data[section].anesthesia || '—'}</td>
//                 `;
      
//                 tableBody.appendChild(row);
//               }
//             });
//           }
      
//           loadTable();








// const binId = "680697538960c979a58a1c64"; // ضع معرف الـ bin هنا
//     const apiKey = "$2a$10$XyjpAsGIxR/qkb3dM51Bq.w5Aa1TKl7DfIcXHDUmQsNsO4uCjGJd6"; // ضع مفتاح الـ API هنا

//           fetch(`https://api.jsonbin.io/v3/b/${binId}/latest`, {
//             headers: {
//               "X-Master-Key": apiKey
//             }
//           })
//           .then(res => res.json())
//           .then(json => {
//             const data = json.record;
//             document.getElementById("dataView").innerHTML = `
//               <p>👨‍⚕️ التمريض: ${data.doctor}</p>
//               <p>📅 اليوم: ${data.day}</p>
//               <p>💉 التخدير: ${data.anesthesia}</p>
//             `;
//           })
//           .catch(err => {
//             document.getElementById("dataView").innerText = "فشل تحميل البيانات ⚠️";
//           });

















//   const binId = "680697538960c979a58a1c64"; // ضع معرف الـ bin هنا
//   const apiKey = "$2a$10$XyjpAsGIxR/qkb3dM51Bq.w5Aa1TKl7DfIcXHDUmQsNsO4uCjGJd6"; // ضع مفتاح الـ API هنا

//   fetch(`https://api.jsonbin.io/v3/b/${binId}/latest`, {
//     headers: {
//       "X-Master-Key": apiKey
//     }
//   })
//   .then(res => res.json())
//   .then(json => {
//     const records = json.record; // لازم يكون Array
//     const tableBody = document.getElementById("table-body");
//     tableBody.innerHTML = ""; // نفضي الجدول الأول

//     records.forEach(record => {
//       const row = `
//         <tr>
//           <td>${record.day}</td>
//           <td>${record.department}</td>
//           <td>${record.doctor}</td>
//           <td>${record.anesthesia}</td>
//           <td>${record.nursing}</td>
//           <td>${record.time}</td>
//         </tr>
//       `;
//       tableBody.innerHTML += row;
//     });

//     document.getElementById("dataView").style.display = "none"; // نخفي رسالة التحميل
//   })
//   .catch(err => {
//     document.getElementById("dataView").innerText = "⚠️ فشل تحميل البيانات";
//   });











const binId = "680697538960c979a58a1c64"; // ضع معرف الـ bin هنا
const apiKey = "$2a$10$XyjpAsGIxR/qkb3dM51Bq.w5Aa1TKl7DfIcXHDUmQsNsO4uCjGJd6"; // ضع مفتاح الـ API هنا

const fixedData = [
  {
    department: "العظام",
    doctor: "د. أحمد عبيد",
    time: "9:00 صباحًا"
  },
  {
    department: "الأورام",
    doctor: "د. احمد صبري | د. كريم شادي",
    time: "3:00 عصرا"
  }
];

fetch(`https://api.jsonbin.io/v3/b/${binId}/latest`, {
  headers: {
    "X-Master-Key": apiKey
  }
})
.then(res => res.json())
.then(json => {
  const dynamicData = json.record;
  const tableBody = document.getElementById("table-body");
  tableBody.innerHTML = "";

  fixedData.forEach((fixedRow, index) => {
    const dynamicRow = dynamicData[index] || {};
    const row = `
      <tr>
        <td>${dynamicRow.day || ""}</td>
        <td>${fixedRow.department}</td>
        <td>${fixedRow.doctor}</td>
        <td>${dynamicRow.anesthesia || ""}</td>
        <td>${dynamicRow.nursing || ""}</td>
        <td>${fixedRow.time}</td>
      </tr>
    `;
    tableBody.innerHTML += row;
  });

  document.getElementById("dataView").style.display = "none";
})
.catch(err => {
  document.getElementById("dataView").innerText = "⚠️ فشل تحميل البيانات";
});







    </script>
</body>
</html>