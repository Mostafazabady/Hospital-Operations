<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
        href="https://fonts.googleapis.com/css2?family=Alegreya+Sans:ital,wght@0,100;0,300;0,400;0,500;0,700;0,800;0,900;1,100;1,300;1,400;1,500;1,700;1,800&family=Alegreya:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&family=Amatic+SC:wght@400;700&family=Cairo:wght@500&family=Cinzel:wght@400;500;600;700;800&family=Inter:wght@100;200;300;400;500;600;700;800;900&family=La+Belle+Aurore&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Noto+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Work+Sans:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
        integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="./bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <title>Ø¬Ø¯ÙˆÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</title>
</head>
<body>
    
        <h2>Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ© Ùˆ Ø§Ù„Ù…ØªØºÙŠØ±Ø© Ø§Ø³Ø¨ÙˆØ¹ÙŠØ§</h2>

<table>
  <thead>
    <tr>
      <th>Ø§Ù„Ù‚Ø³Ù…</th>
      <th>Ø§Ù„ÙŠÙˆÙ…</th>
      <th>Ø§Ù„Ø·Ø¨ÙŠØ¨</th>
      <th>Ø§Ù„ØªØ®Ø¯ÙŠØ±</th>
      <td class="color">Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø§Ù„Ø§Øª</td> 
      <th>Ø§Ù„ØªÙ…Ø±ÙŠØ¶</th>
      <th>Ø§Ù„ØªÙˆÙ‚ÙŠØª</th>
      <th>Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©</th>
      <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
    </tr>
  </thead>
  <tbody id="table-body">
  </tbody>
</table>

<div id="dataView">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</div>


<br>
<hr>
<!-- ==========================================================  ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø§Ù‚Ø³Ø§Ù…   ================================================ -->

  <body>
  
    <div id="content"></div>
  
    <script>
      const BIN_ID = "681b78198960c979a5950dbc";
      const API_KEY = "$2a$10$XyjpAsGIxR/qkb3dM51Bq.w5Aa1TKl7DfIcXHDUmQsNsO4uCjGJd6";
  
      async function fetchData() {
        try {
          const response = await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}/latest`, {
            headers: { 'X-Master-Key': API_KEY }
          });
          const result = await response.json();
          const data = result.record || [];
  
          // ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù‚Ø³Ù…
          const grouped = data.reduce((acc, item) => {
            acc[item["Ø§Ù„Ù‚Ø³Ù…"]] = acc[item["Ø§Ù„Ù‚Ø³Ù…"]] || [];
            acc[item["Ø§Ù„Ù‚Ø³Ù…"]].push(item);
            return acc;
          }, {});
  
          renderData(grouped);
        } catch (error) {
          console.error("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:", error);
          document.getElementById("content").innerHTML = "<p>ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ø­Ø§ÙˆÙ„ Ù„Ø§Ø­Ù‚Ù‹Ø§.</p>";
        }
      }
  
      function renderData(groupedData) {
        const container = document.getElementById("content");
        container.innerHTML = "";
  
        for (const section in groupedData) {
          const sectionDiv = document.createElement("div");
  
          sectionDiv.innerHTML = `
            <h3> ${section}</h3>
            <table>
              <thead>
                <tr>
                  <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶</th>
                  <th>Ø§Ù„Ù‚Ø±Ø§Ø±</th>
                  <th>Ø±Ù‚Ù… Ø§Ù„ØºØ±ÙØ©</th>
                  <th>Ø§Ù„ØªØµÙ†ÙŠÙ</th>
                </tr>
              </thead>
              <tbody>
                ${groupedData[section].map(row => `
                  <tr>
                    <td>${row["Ø§Ù„Ù…Ø±ÙŠØ¶"]}</td>
                    <td>${row["Ø§Ù„Ù‚Ø±Ø§Ø±"]}</td>
                    <td>${row["Ø§Ù„ØºØ±ÙØ©"]}</td>
                    <td>${row["Ø§Ù„ØªØµÙ†ÙŠÙ"]}</td>
                  </tr>
                `).join('')}
              </tbody>
            </table>
          `;
          container.appendChild(sectionDiv);
        }
      }
  
      fetchData();
      // ØªØ­Ø¯ÙŠØ« ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
      setInterval(fetchData, 60000);
    </script>
  
  </body>
  


  <br>
  <hr>
<!-- ===============================================================  Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª  ================================================= -->
  <h2>ğŸ“Œ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</h2>
  <ul id="notesList">
  </ul>










































    <script>



const binId = "680697538960c979a58a1c64"; // Ø¶Ø¹ Ù…Ø¹Ø±Ù Ø§Ù„Ù€ bin Ù‡Ù†Ø§
const apiKey = "$2a$10$XyjpAsGIxR/qkb3dM51Bq.w5Aa1TKl7DfIcXHDUmQsNsO4uCjGJd6"; // Ø¶Ø¹ Ù…ÙØªØ§Ø­ Ø§Ù„Ù€ API Ù‡Ù†Ø§

const fixedData = [
  {
    department: "Ø§Ù„Ø¹Ø¸Ø§Ù…",
  },
  {
    department: "Ø§Ù„Ø£ÙˆØ±Ø§Ù…",
  },
  {
    department: "Ø§Ù„Ø±Ù…Ø¯",
  },
  {
    department: "Ø§Ù†Ù Ùˆ Ø§Ø°Ù†",
  },
  {
    department: "Ù…Ø® Ùˆ Ø§Ø¹ØµØ§Ø¨",
  },
  {
    department: "Ù‚Ù„Ø¨ Ù…ÙØªÙˆØ­",
  },
  {
    department: "Ù‚Ø³Ø·Ø±Ø© Ù‚Ù„Ø¨",
  },
];

fetch(`https://api.jsonbin.io/v3/b/${binId}/latest`, {
  headers: {
    "X-Master-Key": apiKey
  }
})
.then(res => res.json())
.then(json => {
  const dynamicData = json.record;
  const tableBody = document.getElementById("table-body");
  tableBody.innerHTML = "";

  fixedData.forEach((fixedRow, index) => {
    const dynamicRow = dynamicData[index] || {};
    const row = `
      <tr>
        <td>${fixedRow.department}</td>
        <td>${dynamicRow.day || ""}</td>
        <td>${dynamicRow.doctor}</td>
        <td>${dynamicRow.anesthesia || ""}</td>
        <td>${dynamicRow.cases || ""}</td>
        <td>${dynamicRow.nursing || ""}</td>
        <td>${dynamicRow.time}</td>
        <td>${dynamicRow.company || ""}</td>
        <td>${dynamicRow.date || ""}</td>
      </tr>
    `;
    tableBody.innerHTML += row;
  });

  document.getElementById("dataView").style.display = "none";
})
.catch(err => {
  document.getElementById("dataView").innerText = "âš ï¸ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª";
});



// -------------------------------------------------------------------Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Ø§Ø§Ø§Ø§Ø§Ø§Ø§Ø§Ø§Øª ------------------------------------------------------



 const binId1 = "6807c5b78a456b79668ef602";

async function fetchNotes() {
  try {
    const res = await fetch(`https://api.jsonbin.io/v3/b/${binId1}/latest`, {
  headers: {
    "X-Master-Key": apiKey
  }
})
    const data = await res.json();
    const notes = data.record.notes || [];

    const ul = document.getElementById("notesList");
    ul.innerHTML = "";
    notes.forEach(note => {
      const li = document.createElement("li");
      li.textContent = note;
      ul.appendChild(li);
    });

  } catch (err) {
    console.error("âŒ Error fetching notes:", err);
  }
}

fetchNotes();
setInterval(fetchNotes, 5000);




// ==================================================================================================================================


























    </script>
</body>
</html>